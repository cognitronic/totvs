angular.module("ram-utilities.ui",["ram-utilities.ui.tpls","ram-utilities.ui.dialog","ram-utilities.ui.tooltip","ram-utilities.ui.popover","ram-utilities.ui.cache.service","ram-utilities.ui.event-bus.service","ram-utilities.ui.rest.service","ram-utilities.ui.browser-support.service","ram-utilities.ui.alert.service","ram-utilities.ui.scrollable-table","ram-utilities.ui.manage-columns"]),angular.module("ram-utilities.ui.tpls",["template/dialog/dialog-confirm.html","template/dialog/dialog-notify.html","template/dialog/dialog-error.html"]),angular.module("ram-utilities.ui.dialog",["ui.bootstrap"]).provider("DialogsService",[function(){var b=!0,k=!0,w="modal-dialog",copy=!0;this.useBackdrop=function(val){angular.isDefined(val)&&(b=val)},this.useEscClose=function(val){angular.isDefined(val)&&(k=angular.equals(val,0)||angular.equals(val,"false")||angular.equals(val,"no")||angular.equals(val,null)||angular.equals(val,!1)?!1:!0)},this.useClass=function(val){angular.isDefined(val)&&(w=val)},this.useCopy=function(val){angular.isDefined(val)&&(copy=angular.equals(val,0)||angular.equals(val,"false")||angular.equals(val,"no")||angular.equals(val,null)||angular.equals(val,!1)?!1:!0)},this.$get=["$modal",function($modal){return{error:function(header,msg,cssClass,backDrop,escKey){return arguments.length>3&&(b=backDrop),arguments.length>4&&(k=escKey),cssClass&&(w=cssClass),$modal.open({templateUrl:"template/dialog/dialog-error.html",controller:"ErrorDialogController",backdrop:b,keyboard:k,windowClass:w,resolve:{header:function(){return angular.copy(header)},msg:function(){return angular.copy(msg)}}})},notify:function(header,msg,cssClass,backDrop,escKey,modalWidth,modalHeight){return arguments.length>3&&(b=backDrop),arguments.length>4&&(k=escKey),cssClass&&(w=cssClass),$modal.open({templateUrl:"template/dialog/dialog-notify.html",controller:"NotifyDialogController",backdrop:b,keyboard:k,windowClass:w,resolve:{header:function(){return angular.copy(header)},msg:function(){return angular.copy(msg)},modalWidth:function(){return angular.copy(modalWidth)},modalHeight:function(){return angular.copy(modalHeight)}}})},confirm:function(header,msg,cssClass,backDrop,escKey,modalWidth,modalHeight){return arguments.length>3&&(b=backDrop),arguments.length>4&&(k=escKey),cssClass&&(w=cssClass),$modal.open({templateUrl:"template/dialog/dialog-confirm.html",controller:"ConfirmDialogController",backdrop:b,keyboard:k,windowClass:w,resolve:{header:function(){return angular.copy(header)},msg:function(){return angular.copy(msg)},modalWidth:function(){return angular.copy(modalWidth)},modalHeight:function(){return angular.copy(modalHeight)}}})},create:function(url,ctrlr,data,cssClass,backDrop,escKey){return arguments.length>4&&(b=backDrop),arguments.length>5&&(k=escKey),cssClass&&(w=cssClass),$modal.open({templateUrl:url,controller:ctrlr,keyboard:k,backdrop:b,windowClass:w,resolve:{data:function(){return copy?(console.log("copy is true"),angular.copy(data)):data}}})}}}]}]).value("defaultStrings",{error:"Error",errorMessage:"An unknown error has occurred.",close:"Close",pleaseWait:"Please Wait",pleaseWaitEllipsis:"Please Wait...",pleaseWaitMessage:"Waiting on operation to complete.",percentComplete:"% Complete",notification:"Notification",notificationMessage:"Unknown application notification.",confirmation:"Confirmation",confirmationMessage:"Confirmation required.",ok:"OK",yes:"Yes",no:"No",cancel:"Cancel",saveReturn:"Save and Return"}).controller("ErrorDialogController",["$scope","$modalInstance","header","msg","defaultStrings",function($scope,$modalInstance,header,msg,defaultStrings){$scope.header=angular.isDefined(header)?header:defaultStrings.error,$scope.msg=angular.isDefined(msg)?msg:defaultStrings.errorMessage,$scope.defaultStrings=defaultStrings,$scope.close=function(){$modalInstance.close(),$scope.$destroy()}}]).controller("NotifyDialogController",["$scope","$modalInstance","header","msg","defaultStrings","modalWidth","modalHeight",function($scope,$modalInstance,header,msg,defaultStrings,modalWidth,modalHeight){$scope.header=angular.isDefined(header)?header:defaultStrings.notification,$scope.msg=angular.isDefined(msg)?msg:defaultString.notificationMessage,$scope.defaultStrings=defaultStrings,$scope.modalWidth=modalWidth||450,$scope.modalHeight=modalHeight||200,$scope.close=function(){$modalInstance.close(),$scope.$destroy()}}]).controller("ConfirmDialogController",["$scope","$modalInstance","header","msg","defaultStrings","modalWidth","modalHeight",function($scope,$modalInstance,header,msg,defaultStrings,modalWidth,modalHeight){$scope.header=angular.isDefined(header)?header:defaultStrings.confirmation,$scope.msg=angular.isDefined(msg)?msg:defaultStrings.confirmationMessage,$scope.defaultStrings=defaultStrings,$scope.modalWidth=modalWidth||450,$scope.modalHeight=modalHeight||200,$scope.no=function(){$modalInstance.dismiss("no")},$scope.yes=function(){$modalInstance.close("yes")}}]),angular.module("template/dialog/dialog-confirm.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/dialog/dialog-confirm.html",'<div uid="confirm-modal" class="modal" cc-modal cc-height={{modalHeight}} cc-width={{modalWidth}}><div class="modal-confirm-header"><button type="button" class="close" ng-click="no()">&times;</button><h3 class="modal-title"><i class="fa fa-check-square-o"></i>{{ header }}</h3></div><div class="modal-confirm-body">{{ msg }}</div><div class="modal-footer"><button type="button" class="btn" ng-click="yes()">{{ defaultStrings.yes }}</button><button type="button" class="btn btn-inverse" ng-click="no()">{{ defaultStrings.no }}</button></div></div>')}]),angular.module("template/dialog/dialog-error.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/dialog/dialog-error.html",'<div class="modal-error-header"><button type="button" class="close" ng-click="close()">&times;</button><h3 class="modal-title text-danger"><i class="fa fa-warning"></i><span>{{ header }}</span></h3></div><div class="modal-confirm-body">{{ msg }}</div><div class="modal-footer"><button type="button" class="btn" ng-click="yes()">{{ defaultStrings.yes }}</button><button type="button" class="btn btn-inverse" ng-click="no()">{{ defaultStrings.no }}</button></div>')}]),angular.module("template/dialog/dialog-notify.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/dialog/dialog-notify.html",'<div uid="confirm-modal" class="modal" cc-modal cc-height={{modalHeight}} cc-width={{modalWidth}}><div class="modal-confirm-header"><button type="button" class="close" ng-click="no()">&times;</button><h3 class="modal-title"><i class="fa fa-warning"></i>{{ header }}</h3></div><div class="modal-confirm-body">{{ msg }}</div><div class="modal-footer"><button type="button" class="btn btn-inverse" ng-click="close()">{{ defaultStrings.ok }}</button></div></div>')}]),function(){"use strict";angular.module("ram-utilities.ui.manage-columns",[]).directive("csManageColumns",function(){return{restrict:"A, E",scope:{target:"@"},priority:-1e3,template:'<button type="button" ng-click="" popover-title="{{popTitle}}" popover-placement="{{popPlacement}}" popover-template="common/manage-columns.html" class="btn" style=""><i class="icon icon-th-list rotate90"></i> {{buttonText}}</button>',link:function(scope,element,attr){scope.popPlacement=attr.popoverPlacement,scope.popTitle=attr.popoverTitle,scope.buttonText=attr.buttonText;var headers=angular.element.find("th");scope.heads=[];for(var i=0;i<headers.length;i++){var thisHead=angular.element(headers[i]);scope.heads.push({id:i,title:thisHead.attr("manage-columns-id"),value:!0,display:thisHead.css("display")})}scope.updateColumns=function(uid){var thisHeader=angular.element(headers[uid]);scope.heads[uid].value?thisHeader.css("display",scope.heads[uid].display):thisHeader.css("display","none");for(var tbody=angular.element.find("tbody"),rows=angular.element(tbody).children("tr"),i=0;i<rows.length;i++){var thisCell=angular.element(rows[i]).children("td").eq(uid);thisCell.css("display"),scope.heads[uid].value?thisCell.css("display",""):thisCell.css("display","none")}}}}})}(),function(window,document){"use strict";angular.module("ram-utilities.ui.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){function noop(){}var proto=Date.prototype,defaults=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function($locale,dateFilter){var DateParserFactory=function(config){function setMapForFormat(format){var i,keys=Object.keys(setFnMap),map=[],sortedMap=[],clonedFormat=format;for(i=0;i<keys.length;i++)if(format.split(keys[i]).length>1){var index=clonedFormat.search(keys[i]);format=format.split(keys[i]).join(""),setFnMap[keys[i]]&&(map[index]=setFnMap[keys[i]])}return angular.forEach(map,function(v){v&&sortedMap.push(v)}),sortedMap}function escapeReservedSymbols(text){return text.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function regExpForFormat(format){var i,keys=Object.keys(regExpMap),re=format;for(i=0;i<keys.length;i++)re=re.split(keys[i]).join("${"+i+"}");for(i=0;i<keys.length;i++)re=re.split("${"+i+"}").join("("+regExpMap[keys[i]]+")");return format=escapeReservedSymbols(format),new RegExp("^"+re+"$",["i"])}var regex,setMap,options=angular.extend({},defaults,config),$dateParser={},regExpMap={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:options.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:options.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:options.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:options.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:$locale.DATETIME_FORMATS.DAY.join("|"),EEE:$locale.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:options.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:$locale.DATETIME_FORMATS.MONTH.join("|"),MMM:$locale.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:options.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:options.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},setFnMap={sss:proto.setMilliseconds,ss:proto.setSeconds,s:proto.setSeconds,mm:proto.setMinutes,m:proto.setMinutes,HH:proto.setHours,H:proto.setHours,hh:proto.setHours,h:proto.setHours,EEEE:noop,EEE:noop,dd:proto.setDate,d:proto.setDate,a:function(value){var hours=this.getHours();return this.setHours(value.match(/pm/i)?hours+12:hours)},MMMM:function(value){return this.setMonth($locale.DATETIME_FORMATS.MONTH.indexOf(value))},MMM:function(value){return this.setMonth($locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value))},MM:function(value){return this.setMonth(1*value-1)},M:function(value){return this.setMonth(1*value-1)},yyyy:proto.setFullYear,yy:function(value){return this.setFullYear(2e3+1*value)},y:proto.setFullYear};return $dateParser.init=function(){$dateParser.$format=$locale.DATETIME_FORMATS[options.format]||options.format,regex=regExpForFormat($dateParser.$format),setMap=setMapForFormat($dateParser.$format)},$dateParser.isValid=function(date){return angular.isDate(date)?!isNaN(date.getTime()):regex.test(date)},$dateParser.parse=function(value,baseDate,format){angular.isDate(value)&&(value=dateFilter(value,format||$dateParser.$format));var formatRegex=format?regExpForFormat(format):regex,formatSetMap=format?setMapForFormat(format):setMap,matches=formatRegex.exec(value);if(!matches)return!1;for(var date=baseDate||new Date(0,0,1),i=0;i<matches.length-1;i++)formatSetMap[i]&&formatSetMap[i].call(date,matches[i+1]);return date},$dateParser.init(),$dateParser};return DateParserFactory}]}]),angular.module("ram-utilities.ui.helpers.debounce",[]).constant("debounce",function(func,wait,immediate){var timeout,args,context,timestamp,result;return function(){context=this,args=arguments,timestamp=new Date;var later=function(){var last=new Date-timestamp;wait>last?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args)))},callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args)),result}}).constant("throttle",function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:new Date,timeout=null,result=func.apply(context,args)};return function(){var now=new Date;previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}}),angular.module("ram-utilities.ui.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){angular.element;var fn={},nodeName=fn.nodeName=function(element,name){return element.nodeName&&element.nodeName.toLowerCase()===name.toLowerCase()};fn.css=function(element,prop,extra){var value;return value=element.currentStyle?element.currentStyle[prop]:window.getComputedStyle?window.getComputedStyle(element)[prop]:element.style[prop],extra===!0?parseFloat(value)||0:value},fn.offset=function(element){var boxRect=element.getBoundingClientRect(),docElement=element.ownerDocument;return{width:boxRect.width||element.offsetWidth,height:boxRect.height||element.offsetHeight,top:boxRect.top+(window.pageYOffset||docElement.documentElement.scrollTop)-(docElement.documentElement.clientTop||0),left:boxRect.left+(window.pageXOffset||docElement.documentElement.scrollLeft)-(docElement.documentElement.clientLeft||0)}},fn.position=function(element){var offsetParentElement,offset,offsetParentRect={top:0,left:0};return"fixed"===fn.css(element,"position")?offset=element.getBoundingClientRect():(offsetParentElement=offsetParent(element),offset=fn.offset(element),offset=fn.offset(element),nodeName(offsetParentElement,"html")||(offsetParentRect=fn.offset(offsetParentElement)),offsetParentRect.top+=fn.css(offsetParentElement,"borderTopWidth",!0),offsetParentRect.left+=fn.css(offsetParentElement,"borderLeftWidth",!0)),{width:element.offsetWidth,height:element.offsetHeight,top:offset.top-offsetParentRect.top-fn.css(element,"marginTop",!0),left:offset.left-offsetParentRect.left-fn.css(element,"marginLeft",!0)}};var offsetParent=function(element){var docElement=element.ownerDocument,offsetParent=element.offsetParent||docElement;if(nodeName(offsetParent,"#document"))return docElement.documentElement;for(;offsetParent&&!nodeName(offsetParent,"html")&&"static"===fn.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElement.documentElement};return fn.height=function(element,outer){var value=element.offsetHeight;return outer?value+=fn.css(element,"marginTop",!0)+fn.css(element,"marginBottom",!0):value-=fn.css(element,"paddingTop",!0)+fn.css(element,"paddingBottom",!0)+fn.css(element,"borderTopWidth",!0)+fn.css(element,"borderBottomWidth",!0),value},fn.width=function(element,outer){var value=element.offsetWidth;return outer?value+=fn.css(element,"marginLeft",!0)+fn.css(element,"marginRight",!0):value-=fn.css(element,"paddingLeft",!0)+fn.css(element,"paddingRight",!0)+fn.css(element,"borderLeftWidth",!0)+fn.css(element,"borderRightWidth",!0),value},fn}]),angular.module("ram-utilities.ui.helpers.parseOptions",[]).provider("$parseOptions",function(){var defaults=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function($parse,$q){function ParseOptionsFactory(attr,config){function parseValues(values,scope){return values.map(function(match,index){var label,value,locals={};return locals[valueName]=match,label=displayFn(scope,locals),value=valueFn(scope,locals)||index,{label:label,value:value}})}var $parseOptions={},options=angular.extend({},defaults,config);$parseOptions.$values=[];var match,displayFn,valueName,keyName,groupByFn,valueFn,valuesFn;return $parseOptions.init=function(){$parseOptions.$match=match=attr.match(options.regexp),displayFn=$parse(match[2]||match[1]),valueName=match[4]||match[6],keyName=match[5],groupByFn=$parse(match[3]||""),valueFn=$parse(match[2]?match[1]:valueName),valuesFn=$parse(match[7])},$parseOptions.valuesFn=function(scope,controller){return $q.when(valuesFn(scope,controller)).then(function(values){return $parseOptions.$values=values?parseValues(values,scope):{},$parseOptions.$values})},$parseOptions.init(),$parseOptions}return ParseOptionsFactory}]}),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame||$window.mozRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.mozCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};return raf.supported=rafSupported,raf}]),angular.module("ram-utilities.ui.popover",["ram-utilities.ui.tooltip"]).provider("$ccPopover",function(){var defaults=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"ccPopover/ccPopover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0};this.$get=["$ccTooltip",function($ccTooltip){function PopoverFactory(element,config){var options=angular.extend({},defaults,config),$ccPopover=$ccTooltip(element,options);return options.content&&($ccPopover.$scope.content=options.content),$ccPopover}return PopoverFactory}]}).directive("ccPopover",["$window","$sce","$ccPopover",function($window,$sce,$ccPopover){var requestAnimationFrame=$window.requestAnimationFrame||$window.setTimeout;return{restrict:"EAC",scope:!0,link:function(scope,element,attr){var options={scope:scope};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass"],function(key){angular.isDefined(attr[key])&&(options[key]=attr[key])}),angular.forEach(["title","content"],function(key){attr[key]&&attr.$observe(key,function(newValue,oldValue){scope[key]=$sce.trustAsHtml(newValue),angular.isDefined(oldValue)&&requestAnimationFrame(function(){ccPopover&&ccPopover.$applyPlacement()})})}),attr.ccPopover&&scope.$watch(attr.ccPopover,function(newValue,oldValue){angular.isObject(newValue)?angular.extend(scope,newValue):scope.content=newValue,angular.isDefined(oldValue)&&requestAnimationFrame(function(){ccPopover&&ccPopover.$applyPlacement()})},!0),attr.ccShow&&scope.$watch(attr.ccShow,function(newValue){ccPopover&&angular.isDefined(newValue)&&(angular.isString(newValue)&&(newValue=!!newValue.match(",?(ccPopover),?")),newValue===!0?ccPopover.show():ccPopover.hide())});var ccPopover=$ccPopover(element,options);scope.$on("$destroy",function(){ccPopover&&ccPopover.destroy(),options=null,ccPopover=null})}}}]),angular.module("ram-utilities.ui.tooltip",["ram-utilities.ui.helpers.dimensions"]).provider("$ccTooltip",function(){var defaults=this.defaults={animation:"am-fade",customClass:"",prefixClass:"ccTooltip",prefixEvent:"ccTooltip",container:!1,target:!1,placement:"top",template:"ccTooltip/ccTooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","dimensions","$$rAF",function($window,$rootScope,$compile,$q,$templateCache,$http,$animate,dimensions,$$rAF){function TooltipFactory(element,config){function getPosition(){return"body"===options.container?dimensions.offset(options.target[0]||element[0]):dimensions.position(options.target[0]||element[0])}function getCalculatedOffset(placement,position,actualWidth,actualHeight){var offset,split=placement.split("-");switch(split[0]){case"right":offset={top:position.top+position.height/2-actualHeight/2,left:position.left+position.width};break;case"bottom":offset={top:position.top+position.height,left:position.left+position.width/2-actualWidth/2};break;case"left":offset={top:position.top+position.height/2-actualHeight/2,left:position.left-actualWidth};break;default:offset={top:position.top-actualHeight,left:position.left+position.width/2-actualWidth/2}}if(!split[1])return offset;if("top"===split[0]||"bottom"===split[0])switch(split[1]){case"left":offset.left=position.left;break;case"right":offset.left=position.left+position.width-actualWidth}else if("left"===split[0]||"right"===split[0])switch(split[1]){case"top":offset.top=position.top-actualHeight;break;case"bottom":offset.top=position.top+position.height}return offset}var $ccTooltip={},nodeName=element[0].nodeName.toLowerCase(),options=$ccTooltip.$options=angular.extend({},defaults,config);$ccTooltip.$promise=fetchTemplate(options.template);var scope=$ccTooltip.$scope=options.scope&&options.scope.$new()||$rootScope.$new();options.delay&&angular.isString(options.delay)&&(options.delay=parseFloat(options.delay)),options.title&&($ccTooltip.$scope.title=options.title),scope.$hide=function(){scope.$$postDigest(function(){$ccTooltip.hide()})},scope.$show=function(){scope.$$postDigest(function(){$ccTooltip.show()})},scope.$toggle=function(){scope.$$postDigest(function(){$ccTooltip.toggle()})},$ccTooltip.$isShown=scope.$isShown=!1;var timeout,hoverState;options.contentTemplate&&($ccTooltip.$promise=$ccTooltip.$promise.then(function(template){var templateEl=angular.element(template);return fetchTemplate(options.contentTemplate).then(function(contentTemplate){var contentEl=findElement('[ng-bind="content"]',templateEl[0]);return contentEl.length||(contentEl=findElement('[ng-bind="title"]',templateEl[0])),contentEl.removeAttr("ng-bind").html(contentTemplate),templateEl[0].outerHTML})}));var tipLinker,tipElement,tipTemplate,tipContainer;return $ccTooltip.$promise.then(function(template){angular.isObject(template)&&(template=template.data),options.html&&(template=template.replace(htmlReplaceRegExp,'ng-bind-html="')),template=trim.apply(template),tipTemplate=template,tipLinker=$compile(template),$ccTooltip.init()}),$ccTooltip.init=function(){options.delay&&angular.isNumber(options.delay)&&(options.delay={show:options.delay,hide:options.delay}),"self"===options.container?tipContainer=element:angular.isElement(options.container)?tipContainer=options.container:options.container&&(tipContainer=findElement(options.container));var triggers=options.trigger.split(" ");angular.forEach(triggers,function(trigger){"click"===trigger?element.on("click",$ccTooltip.toggle):"manual"!==trigger&&(element.on("hover"===trigger?"mouseenter":"focus",$ccTooltip.enter),element.on("hover"===trigger?"mouseleave":"blur",$ccTooltip.leave),"button"===nodeName&&"hover"!==trigger&&element.on(isTouch?"touchstart":"mousedown",$ccTooltip.$onFocusElementMouseDown))}),options.target&&(options.target=angular.isElement(options.target)?options.target:findElement(options.target)),options.show&&scope.$$postDigest(function(){"focus"===options.trigger?element[0].focus():$ccTooltip.show()})},$ccTooltip.destroy=function(){for(var triggers=options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];"click"===trigger?element.off("click",$ccTooltip.toggle):"manual"!==trigger&&(element.off("hover"===trigger?"mouseenter":"focus",$ccTooltip.enter),element.off("hover"===trigger?"mouseleave":"blur",$ccTooltip.leave),"button"===nodeName&&"hover"!==trigger&&element.off(isTouch?"touchstart":"mousedown",$ccTooltip.$onFocusElementMouseDown))}tipElement&&(tipElement.remove(),tipElement=null),clearTimeout(timeout),scope.$destroy()},$ccTooltip.enter=function(){return clearTimeout(timeout),hoverState="in",options.delay&&options.delay.show?(timeout=setTimeout(function(){"in"===hoverState&&$ccTooltip.show()},options.delay.show),void 0):$ccTooltip.show()},$ccTooltip.show=function(){scope.$emit(options.prefixEvent+".show.before",$ccTooltip);var parent=options.container?tipContainer:null,after=options.container?null:element;tipElement&&tipElement.remove(),tipElement=$ccTooltip.$element=tipLinker(scope,function(){}),tipElement.css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"}).addClass(options.placement),options.animation&&tipElement.addClass(options.animation),options.type&&tipElement.addClass(options.prefixClass+"-"+options.type),options.customClass&&tipElement.addClass(options.customClass),$animate.enter(tipElement,parent,after,function(){scope.$emit(options.prefixEvent+".show",$ccTooltip)}),$ccTooltip.$isShown=scope.$isShown=!0,scope.$$phase||scope.$root&&scope.$root.$$phase||scope.$digest(),$$rAF(function(){$ccTooltip.$applyPlacement(),tipElement.css({visibility:"visible"})}),options.keyboard&&("focus"!==options.trigger?($ccTooltip.focus(),tipElement.on("keyup",$ccTooltip.$onKeyUp)):element.on("keyup",$ccTooltip.$onFocusKeyUp))},$ccTooltip.leave=function(){return clearTimeout(timeout),hoverState="out",options.delay&&options.delay.hide?(timeout=setTimeout(function(){"out"===hoverState&&$ccTooltip.hide()},options.delay.hide),void 0):$ccTooltip.hide()},$ccTooltip.hide=function(blur){$ccTooltip.$isShown&&(scope.$emit(options.prefixEvent+".hide.before",$ccTooltip),$animate.leave(tipElement,function(){return scope.$emit(options.prefixEvent+".hide",$ccTooltip),blur&&"focus"===options.trigger?element[0].blur():void 0}),$ccTooltip.$isShown=scope.$isShown=!1,scope.$$phase||scope.$root&&scope.$root.$$phase||scope.$digest(),options.keyboard&&null!==tipElement&&tipElement.off("keyup",$ccTooltip.$onKeyUp))},$ccTooltip.toggle=function(){$ccTooltip.$isShown?$ccTooltip.leave():$ccTooltip.enter()},$ccTooltip.focus=function(){tipElement[0].focus()},$ccTooltip.$applyPlacement=function(){if(tipElement){var elementPosition=getPosition(),tipWidth=tipElement.prop("offsetWidth"),tipHeight=tipElement.prop("offsetHeight"),tipPosition=getCalculatedOffset(options.placement,elementPosition,tipWidth,tipHeight);tipPosition.top+="px",tipPosition.left+="px",tipElement.css(tipPosition)}},$ccTooltip.$onKeyUp=function(evt){27===evt.which&&$ccTooltip.$isShown&&($ccTooltip.hide(),evt.stopPropagation())},$ccTooltip.$onFocusKeyUp=function(evt){27===evt.which&&(element[0].blur(),evt.stopPropagation())},$ccTooltip.$onFocusElementMouseDown=function(evt){evt.preventDefault(),evt.stopPropagation(),$ccTooltip.$isShown?element[0].blur():element[0].focus()},$ccTooltip}function findElement(query,element){return angular.element((element||document).querySelectorAll(query))}function fetchTemplate(template){return $q.when($templateCache.get(template)||$http.get(template)).then(function(res){return angular.isObject(res)?($templateCache.put(template,res.data),res.data):res})}var trim=String.prototype.trim,isTouch="createTouch"in $window.document,htmlReplaceRegExp=/ng-bind="/gi;return TooltipFactory}]}).directive("ccTooltip",["$window","$location","$sce","$ccTooltip","$$rAF",function($window,$location,$sce,$ccTooltip,$$rAF){return{restrict:"EAC",scope:!0,link:function(scope,element,attr){var options={scope:scope};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","type","customClass"],function(key){angular.isDefined(attr[key])&&(options[key]=attr[key])}),angular.forEach(["title"],function(key){attr.$observe(key,function(newValue,oldValue){scope[key]=$sce.trustAsHtml(newValue),angular.isDefined(oldValue)&&$$rAF(function(){tooltip&&tooltip.$applyPlacement()})})}),attr.ccTooltip&&scope.$watch(attr.ccTooltip,function(newValue,oldValue){angular.isObject(newValue)?angular.extend(scope,newValue):scope.title=newValue,angular.isDefined(oldValue)&&$$rAF(function(){tooltip&&tooltip.$applyPlacement()})},!0),attr.ccShow&&scope.$watch(attr.ccShow,function(newValue){tooltip&&angular.isDefined(newValue)&&(angular.isString(newValue)&&(newValue=!!newValue.match(",?(tooltip),?")),newValue===!0?tooltip.show():tooltip.hide())});var tooltip=$tooltip(element,options);scope.$on("$destroy",function(){tooltip&&tooltip.destroy(),options=null,tooltip=null})}}}])}(window,document),function(){"use strict";angular.module("ram-utilities.ui.popover").run(["$templateCache",function($templateCache){$templateCache.put("ccPopover/ccPopover.tpl.html",'<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("ram-utilities.ui.tooltip").run(["$templateCache",function($templateCache){$templateCache.put("ccTooltip/ccTooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}])}(window,document),function(){"use strict";angular.module("ram-utilities.ui.scrollable-table",[]).directive("ramScrollableTable",["$timeout","$q","$parse",function($timeout,$q){return{transclude:!0,restrict:"A",scope:{rows:"=watch"},template:'<div class="scrollableContainer"><div class="headerSpacer"></div><div class="scrollArea" ng-transclude></div></div>',controller:["$scope","$element","$attrs",function($scope,$element){function waitForRender(){function wait(){0===$element.find("table:visible").length?$timeout(wait,100):deferredRender.resolve()}var deferredRender=$q.defer();return $timeout(wait),deferredRender.promise}function fixHeaderWidths(){$element.find("thead th .th-inner").length||$element.find("thead th").wrapInner('<div class="th-inner"></div>'),void 0!==$($element).attr("cs-scrollable-table")&&$($element).css("height","100%"),$element.find("table th .th-inner").each(function(index,el){el=$(el);var padding=el.outerWidth()-el.width(),width=el.parent().width()-padding,lastCol=$element.find("table th:visible:last");if("center"!==lastCol.css("text-align")){var hasScrollbar=$element.find(".scrollArea").height()<$element.find("table").height();lastCol[0]==el.parent()[0]&&hasScrollbar&&(width+=$element.find(".scrollArea").width()-$element.find("tbody tr").width())}el.css("width",width);var title=el.parent().attr("title");title||(title=el.children().length?el.find(".title .ng-scope").html():el.html()),el.attr("title",title.trim())}),headersAreFixed.resolve()}var headersAreFixed=$q.defer();$(window).resize(fixHeaderWidths),$scope.$watch("rows",function(newValue){newValue&&waitForRender().then(fixHeaderWidths)}),$element.find(".scrollArea").scroll(function(event){$element.find("thead th .th-inner").css("margin-left",0-event.target.scrollLeft)})}]}}])}(),function(){"use strict"}(),function(){"use strict";var AlertService=function($timeout){var _timeout=1e4,_alerts=[],_autoCloseAlert=function(index){_alerts.splice(index,1)},_closeAlert=function(index){_alerts.splice(index,1)},_addAlert=function(msg,msgType,persist){var alert={msg:msg,type:msgType};_alerts.push(alert),persist||$timeout(function(){_autoCloseAlert(_alerts.indexOf(alert))},_timeout)},_addErrorMessage=function(msg,persist){msg&&_addAlert(msg,"error",persist)},_addWarningMessage=function(msg,persist){msg&&_addAlert(msg,"warn",persist)},_addSuccessMessage=function(msg,persist){msg&&_addAlert(msg,"success",persist)},_getAlerts=function(){return _alerts};return{timeout:_timeout,alerts:_alerts,autoCloseAlert:_autoCloseAlert,closeAlert:_closeAlert,addErrorMessage:_addErrorMessage,addWarningMessage:_addWarningMessage,addSuccessMessage:_addSuccessMessage,getAlerts:_getAlerts}};angular.module("ram-utilities.ui.alert.service",[]).factory("AlertService",["$timeout",AlertService])}(),function(){"use strict";var BrowserSupportService=function($q,RestHelper,DialogsService){var _getBrowserStatus=function(name,version){var browserInfo={name:name,version:version},deferred=$q.defer(),successCb=function(data){DialogsService.notify("Browser Support","Browser name: "+browserInfo.name+"    Browser version: "+browserInfo.version),console.log(navigator.userAgent),deferred.resolve(data)
};return successCb("hello"),deferred.promise},_isIE8=function(){return"Internet Explorer"==this.browserInfo().name&&"8.0"==this.browserInfo().version?!0:!1},_browserInfo=function(){function detect(ua){function getFirstMatch(regex){var match=ua.match(regex);return match&&match.length>1&&match[1]||""}var result,iosdevice=getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),likeAndroid=/like android/i.test(ua),android=!likeAndroid&&/android/i.test(ua),versionIdentifier=getFirstMatch(/version\/(\d+(\.\d+)?)/i),tablet=/tablet/i.test(ua),mobile=!tablet&&/[^-]mobi/i.test(ua);/opera|opr/i.test(ua)?result={name:"Opera",opera:t,version:versionIdentifier||getFirstMatch(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(ua)?result={name:"Windows Phone",windowsphone:t,msie:t,version:getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(ua)?result={name:"Internet Explorer",msie:t,version:getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(ua)?result={name:"Chrome",chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:iosdevice?(result={name:"iphone"==iosdevice?"iPhone":"ipad"==iosdevice?"iPad":"iPod"},versionIdentifier&&(result.version=versionIdentifier)):/sailfish/i.test(ua)?result={name:"Sailfish",sailfish:t,version:getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(ua)?result={name:"SeaMonkey",seamonkey:t,version:getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(ua)?(result={name:"Firefox",firefox:t,version:getFirstMatch(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(ua)&&(result.firefoxos=t)):result=/silk/i.test(ua)?{name:"Amazon Silk",silk:t,version:getFirstMatch(/silk\/(\d+(\.\d+)?)/i)}:android?{name:"Android",version:versionIdentifier}:/phantom/i.test(ua)?{name:"PhantomJS",phantom:t,version:getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(ua)||/rim\stablet/i.test(ua)?{name:"BlackBerry",blackberry:t,version:versionIdentifier||getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(ua)?{name:"WebOS",webos:t,version:versionIdentifier||getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)}:/bada/i.test(ua)?{name:"Bada",bada:t,version:getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(ua)?{name:"Tizen",tizen:t,version:getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||versionIdentifier}:/safari/i.test(ua)?{name:"Safari",safari:t,version:versionIdentifier}:{},/(apple)?webkit/i.test(ua)?(result.name=result.name||"Webkit",result.webkit=t,!result.version&&versionIdentifier&&(result.version=versionIdentifier)):!result.opera&&/gecko\//i.test(ua)&&(result.name=result.name||"Gecko",result.gecko=t,result.version=result.version||getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)),android||result.silk?result.android=t:iosdevice&&(result[iosdevice]=t,result.ios=t);var osVersion="";iosdevice?(osVersion=getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i),osVersion=osVersion.replace(/[_\s]/g,".")):android?osVersion=getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i):result.windowsphone?osVersion=getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):result.webos?osVersion=getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):result.blackberry?osVersion=getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i):result.bada?osVersion=getFirstMatch(/bada\/(\d+(\.\d+)*)/i):result.tizen&&(osVersion=getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i)),osVersion&&(result.osversion=osVersion);var osMajorVersion=osVersion.split(".")[0];return tablet||"ipad"==iosdevice||android&&(3==osMajorVersion||4==osMajorVersion&&!mobile)||result.silk?result.tablet=t:(mobile||"iphone"==iosdevice||"ipod"==iosdevice||android||result.blackberry||result.webos||result.bada)&&(result.mobile=t),result.msie&&result.version>=10||result.chrome&&result.version>=20||result.firefox&&result.version>=20||result.safari&&result.version>=6||result.opera&&result.version>=10||result.ios&&result.osversion&&result.osversion.split(".")[0]>=6?result.a=t:result.msie&&result.version<10||result.chrome&&result.version<20||result.firefox&&result.version<20||result.safari&&result.version<6||result.opera&&result.version<10||result.ios&&result.osversion&&result.osversion.split(".")[0]<6?result.c=t:result.x=t,result}var t=!0,ccBrowserInfo=detect("undefined"!=typeof navigator?navigator.userAgent:"");return ccBrowserInfo._detect=detect,ccBrowserInfo};return{getBrowserStatus:_getBrowserStatus,isIE8:_isIE8,browserInfo:_browserInfo}};angular.module("ram-utilities.ui.browser-support.service",[]).factory("BrowserSupportService",["$q","RestHelper","DialogsService",BrowserSupportService])}(),function(){"use strict";var CacheService=function(){var _cacheItems={UserInfo:{orgId:"orgId",selectedOrg:"selectedOrg",userOrgs:"userOrgs",userData:"userData",userId:"userId",browserSupportChecked:"browserSupportChecked"},Referrals:{selectedReferral:"selectedReferral",selectedStatus:"selectedStatus"},Profile:{loadedProfile:"loadedProfile",allClnServices:"clnServices",allNclnServices:"nclnServices"},Reports:{selectedReport:"selectedReport"},Codelists:{locList:"locList",allLists:"allLists",declineReasons:"declineReasons"},Documents:{showAddNewReferral:"showAddNewReferral"},TreeInfo:{selectedCustomerID:"selectedCustomerID",selectedFacilityID:"selectedFacilityID"},Internal:{userData:"internalUserData"},User:{userData:"userData"},Customer:{customerData:"customerData"}},_setItem=function(key,val){sessionStorage.setItem(key,JSON.stringify(val))},_getItem=function(item){return angular.fromJson?angular.fromJson(sessionStorage.getItem(item)):void 0},_removeItem=function(item){sessionStorage.removeItem(item)},_clearCache=function(){sessionStorage.clear()};return{setItem:_setItem,getItem:_getItem,removeItem:_removeItem,Items:_cacheItems,clearCache:_clearCache}};angular.module("ram-utilities.ui.cache.service",[]).factory("CacheService",[CacheService])}(),function(){"use strict";var EventService=function($rootScope){var _destroyScope=function(scope,unsubscribe){scope.$on("$destroy",unsubscribe)},_pub=function(name,message){$rootScope.$emit(name,message)},_sub=function(scope,name,handler){var unsubscribe=$rootScope.$on(name,function(event,message){handler(message)});_destroyScope(scope,unsubscribe)};return{pub:_pub,sub:_sub}};angular.module("ram-utilities.ui.event-bus.service",[]).factory("EventService",["$rootScope",EventService])}(),function(){"use strict";var RestService=function($http,$q,AlertService,$window,$location,$rootScope,$state){var _sessionTimedOutFunction,_configureSessionTimeOut=function(timedOutFn){_sessionTimedOutFunction=timedOutFn},_showSessionTimedOut=function(){_sessionTimedOutFunction&&"function"==typeof _sessionTimedOutFunction&&_sessionTimedOutFunction()},_buildUrl=function(url,argList){var finalURL=url;if(argList||argList==[])for(var replaceStr="",i=0;i<argList.length;i++)replaceStr="{"+i+"}",finalURL=finalURL.replace(replaceStr,argList[i]);return finalURL},_executeHttpRequest=function(method,url,urlReplaceList,params,successFunction,errorMsg,errorFunction,config){config&&config.hasOwnProperty("showLoader")&&($rootScope.showLoader=config.showLoader),urlReplaceList&&(url=_buildUrl(url,urlReplaceList)),$http({method:method,url:url,params:params,cache:!1}).success(function(responseData,status,headers,config){$rootScope.showLoader=!1,void 0===responseData.isAuthenticated||responseData.isAuthenticated?void 0===successFunction?_defaultSuccessFunction(responseData,status,headers,config):successFunction(responseData,status,headers,config):$state.go("login")}).error(function(data,status,headers,config){$rootScope.showLoader=!1,401===status?_showSessionTimedOut():0!==status&&_processError(data,status,headers,config,errorMsg,errorFunction)})},_defaultSuccessFunction=function(data){console.log("Successfully received data, no functionality defined to proccess it. ",data)},_processError=function(data,status,headers,config,errorMsg,errorFunction){errorMsg&&AlertService.addErrorMessage(errorMsg,!0),errorFunction&&errorFunction(data,status,headers,config)},_getData=function(url,urlReplaceList,params,successFunction,errorMsg,errorFunction,config){_executeHttpRequest("GET",url,urlReplaceList,params,successFunction,errorMsg,errorFunction,config)},_putData=function(url,urlReplaceList,params,successFunction,errorMsg,errorFunction,config){_executeHttpRequest("PUT",url,urlReplaceList,params,successFunction,errorMsg,errorFunction,config)},_deleteData=function(url,urlReplaceList,params,successFunction,errorMsg,errorFunction,config){_executeHttpRequest("DELETE",url,urlReplaceList,params,successFunction,errorMsg,errorFunction,config)},_putPostData=function(url,urlReplaceList,params,data,successFunction,errorMsg,errorFunction,config){config&&config.hasOwnProperty("showLoader")&&($rootScope.showLoader=config.showLoader),urlReplaceList&&(url=_buildUrl(url,urlReplaceList)),$http({method:"PUT",url:url,params:params,data:data,cache:!1}).success(function(postData,status,headers,config){$rootScope.showLoader=!1,void 0===postData.isAuthenticated||postData.isAuthenticated?void 0===successFunction?_defaultSuccessFunction(postData,status,headers,config):successFunction(data,status,headers,config):$state.go("login")}).error(function(postData,status,headers,config){$rootScope.showLoader=!1,401===status?_showSessionTimedOut():0!==status&&_processError(postData,status,headers,config,errorMsg,errorFunction)})},_postData=function(url,urlReplaceList,params,data,successFunction,errorMsg,errorFunction,config){config&&config.hasOwnProperty("showLoader")&&($rootScope.showLoader=config.showLoader),urlReplaceList&&(url=_buildUrl(url,urlReplaceList)),$http({method:"POST",url:url,params:params,data:data,cache:!1}).success(function(postData,status,headers,config){$rootScope.showLoader=!1,void 0===postData.isAuthenticated||postData.isAuthenticated?void 0===successFunction?_defaultSuccessFunction(postData,status,headers,config):successFunction(postData,status,headers,config):$state.go("login")}).error(function(postData,status,headers,config){$rootScope.showLoader=!1,401===status?_showSessionTimedOut():0!==status&&_processError(postData,status,headers,config,errorMsg,errorFunction)})},_postDataWithHeaders=function(url,urlReplaceList,data,headers,transformRequest,successFunction,errorMsg,errorFunction,config){config&&config.hasOwnProperty("showLoader")&&($rootScope.showLoader=config.showLoader),urlReplaceList&&(url=_buildUrl(url,urlReplaceList)),$http({method:"POST",url:url,data:data,headers:headers,transformRequest:transformRequest}).success(function(postData,status,headers,config){$rootScope.showLoader=!1,void 0===postData.isAuthenticated||postData.isAuthenticated?void 0===successFunction?_defaultSuccessFunction(postData,status,headers,config):successFunction(postData,status,headers,config):$state.go("login")}).error(function(data,status,headers,config){$rootScope.showLoader=!1,401===status?_showSessionTimedOut():0!==status&&_processError(data,status,headers,config,errorMsg,errorFunction)})};return{getData:_getData,postData:_postData,putData:_putData,deleteData:_deleteData,putPostData:_putPostData,postDataWithHeaders:_postDataWithHeaders,configureSessionTimeOut:_configureSessionTimeOut}};angular.module("ram-utilities.ui.rest.service",["ram-utilities.ui.alert.service","ram-utilities.ui.event-bus.service"]).factory("RestService",["$http","$q","AlertService","$window","$location","$rootScope","$state",RestService])}();