angular.module("totvs.services",[]),angular.module("totvs",["ui.router","ui.bootstrap","totvs.services","ngAnimate","toaster","ram-utilities.ui"]).config(function($httpProvider,$stateProvider,$locationProvider,$urlRouterProvider,$urlMatcherFactoryProvider){$urlMatcherFactoryProvider.strictMode(!1),$locationProvider.html5Mode(!0),$httpProvider.defaults.transformRequest=function(data){return void 0===data?data:$.param(data)},$httpProvider.defaults.useXDomain=!0,delete $httpProvider.defaults.headers.common["X-Requested-With"],$httpProvider.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",$httpProvider.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",$httpProvider.defaults.headers["delete"]={"Content-Type":"application/json; charset=UTF-8"},$urlRouterProvider.otherwise("/"),$stateProvider.state("feed",{url:"/",views:{"header@":{templateUrl:"/src/core/layout/header.html",controller:"HeaderController as hc"},"main-content@":{templateUrl:"src/feed/list.html",controller:"FeedController as fc"},"footer@":{templateUrl:"/src/core/layout/footer.html"}}}).state("photos",{url:"/photos",views:{"header@":{templateUrl:"/src/core/layout/header.html",controller:"HeaderController as hc"},"main-content@":{templateUrl:"src/photos/list.html",controller:"PhotosController as pc"},"footer@":{templateUrl:"/src/core/layout/footer.html"}}}).state("friends",{url:"/friends",views:{"header@":{templateUrl:"/src/core/layout/header.html",controller:"HeaderController as hc"},"main-content@":{templateUrl:"src/friends/list.html",controller:"FriendsController as fc"},"footer@":{templateUrl:"/src/core/layout/footer.html"}}})}),function(){"use strict";var AboutController=function(){};angular.module("totvs").controller("AboutController",[AboutController])}(),function(){"use strict";var fixContainer=function(){var link=function(scope,element){function resizeContainers(containerId){var heights=$(containerId).map(function(){return $(this).height()}).get(),maxHeight=2*Math.max.apply(null,heights);$(containerId).height(maxHeight)}resizeContainers(element)};return{restrict:"EA",link:link}};angular.module("totvs").directive("fixContainer",[fixContainer])}(),function(){"use strict";angular.module("totvs").constant("Constants",{ROUTES:{FEED_DATA:"src/core/data/feed.json",FRIENDS_DATA:"src/core/data/friends.json"},CACHE:{FEED:"feedList"}})}(),function(){"use strict";var HeaderController=function(){};angular.module("totvs").controller("HeaderController",["$state",HeaderController])}(),function(){"use strict";var CacheService=function(){var _setItem=function(key,val){sessionStorage.setItem(key,JSON.stringify(val))},_getItem=function(item){return angular.fromJson?angular.fromJson(sessionStorage.getItem(item)):void 0},_removeItem=function(item){sessionStorage.removeItem(item)},_clearCache=function(){sessionStorage.clear()};return{setItem:_setItem,getItem:_getItem,removeItem:_removeItem,clearCache:_clearCache}};angular.module("totvs.services").factory("CacheService",[CacheService])}(),function(){"use strict";var FeedController=function(FeedService){function init(){fc.getFeedData()}function getFeedData(){fc.feed=[],FeedService.getFeedData().then(function(data){fc.feed=data.feed})}function sharePost(post){fc.newPost={name:"Danny Schreiber",dateShared:"Feb 23, 2015",location:"Modesto, CA",thumbnail:"http://res.cloudinary.com/raven-art-media/image/upload/v1422983670/me2_a8bkrt.png",imagePath:"https://lh5.googleusercontent.com/-v7VirZyHkMg/VOtM9ulbskI/AAAAAAAAfOo/7_AD15FfE-Y/w1000-h667/smith%2Bpond%2B20140607%2Bmilk%2Bway%2Bzoom.jpg",messageBody:post.messageBody},FeedService.savePost(fc.newPost).then(function(){fc.clearPost(),fc.getFeedData()})}function clearPost(){fc.newPost.messageBody=""}var fc=this;fc.feed=[],fc.newPost={},fc.getFeedData=getFeedData,fc.init=init,fc.sharePost=sharePost,fc.clearPost=clearPost,fc.init()};angular.module("totvs").controller("FeedController",["FeedService","Constants",FeedController])}(),function(){"use strict";var FeedService=function(RestService,$q,Constants,CacheService){var _getFeedData=function(){var deferred=$q.defer(),_success=function(data){CacheService.setItem(Constants.CACHE.FEED,data),deferred.resolve(data)},_error=function(data){deferred.resolve(data)};return CacheService.getItem(Constants.CACHE.FEED)?deferred.resolve(CacheService.getItem(Constants.CACHE.FEED)):RestService.getData(Constants.ROUTES.FEED_DATA,null,null,_success,"",_error,{showLoader:!0}),deferred.promise},_savePost=function(post){var deferred=$q.defer(),tempFeed=CacheService.getItem(Constants.CACHE.FEED);return tempFeed.feed.push(post),CacheService.setItem(Constants.CACHE.FEED,tempFeed),deferred.resolve("done"),deferred.promise};return{getFeedData:_getFeedData,savePost:_savePost}};angular.module("totvs.services").factory("FeedService",["RestService","$q","Constants","CacheService",FeedService])}(),function(){"use strict";var FriendsController=function(FriendsService){function init(){fc.getFriends()}function getFriends(){FriendsService.getFriendsData().then(function(data){fc.friends=data.profiles})}var fc=this;fc.friends=[],fc.getFriends=getFriends,fc.init=init,fc.init()};angular.module("totvs").controller("FriendsController",["FriendsService","Constants",FriendsController])}(),function(){"use strict";var FriendsService=function(RestService,$q,Constants){var _getFriendsData=function(){var deferred=$q.defer(),_success=function(data){deferred.resolve(data)},_error=function(data){deferred.resolve(data)};return RestService.getData(Constants.ROUTES.FRIENDS_DATA,null,null,_success,"",_error,{showLoader:!0}),deferred.promise};return{getFriendsData:_getFriendsData}};angular.module("totvs.services").factory("FriendsService",["RestService","$q","Constants",FriendsService])}(),function(){"use strict";var PhotosController=function(){};angular.module("totvs").controller("PhotosController",[PhotosController])}();